<div class="bookings" ng-controller="Ctrl_Bookings" >
    <div class="bookings-container" layout="row" layout-wrap>
        <div ng-cloak class="content" flex>
            <md-toolbar class="md-hue-2">
                <div class="md-toolbar-tools">
                    <h2 class="md-flex">Buchungen</h2>
                </div>
            </md-toolbar>
            <md-content flex layout-padding >
                <md-input-container class="md-block">
                    <label> Suche nach Buchungs ID</label>
                    <input ng-model="bookingID" />
                </md-input-container>

				<md-content>
					
					<table>
						<thead>
							<tr>
								<td>ID</td>
								<td>Fahrer</td>
								<td>Status</td>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="(key, booking) in bookings track by $index" ng-click="LoadBookingDetails2(booking)">
								<td>{{key}}</td>
								<td>{{ booking.customer.name }} {{ booking.customer.familyName }}</td>
								<td>{{ booking.statusText }}</td>
							</tr>
						</tbody>
						<tfoot>
							<tr ng-click="Show_AddBooking()">
								<td colspan="2">
									<div class="md-list-item-text" layout="column">
										<h4>Neue Buchung hinzufügen</h4>
									</div>
								<td>
							</tr>
						</tfoot>
					</table>
					
				</md-content>
				<!--
                <md-list flex>
                    <md-list-item><h4>ID Fahrer Status</h4></md-list-item>
                    <md-list-item class="md-1-line" ng-repeat="(key, booking) in bookings track by $index" ng-click="LoadBookingDetails2(booking)">
                        <div class="md-list-item-text" layout="column" ng-switch on="booking.status">
                            <h4 ng-switch-when="FUTURE">{{ key }} {{ booking.customer.name }} {{ booking.customer.familyName }} FUTURE</h4>
                            <h4 ng-switch-when="PAST">{{ key }} {{ booking.customer.name }} {{ booking.customer.familyName }} PAST</h4>
                        </div>
                        <md-divider ></md-divider>
                    </md-list-item>
                    <md-list-item class="md-1-line" ng-click="Show_AddBooking()">
                        <div class="md-list-item-text" layout="column">
                            <h4>Neue Buchung hinzufügen</h4>
                        </div>
                    </md-list-item>
                </md-list>
				-->
            </md-content>

        </div>
        <div style="padding:15px;"></div>

        <div ng-switch="view" ng-cloak class="content booking-right" flex>
            <div ng-switch-when="info" ng-switch="booking_selected">
                <md-toolbar class="md-hue-2">
                    <div class="md-toolbar-tools">
                        <h2 class="md-flex">Buchungsdetails</h2>
                    </div>
                </md-toolbar>
                <!-- Booking Objekt hierfür ist $scope.currentBooking -->
                <div ng-switch-when="false">
                    <md-content layout-padding>
                        <h4>W&auml;hlen Sie eine Buchung aus oder f&uuml;gen Sie eine Neue hinzu</h4>
                    </md-content>
                </div>

                <div ng-switch-when="true">
                    <md-content layout-padding>
					<label> Buchungs-ID: {{ currentBooking.bookingID }} </label>
					<label> Status: {{ currentBooking.statusText }}</label>
					<br/>
					
					<h4>Fahrer</h4>
					<BLOCKQUOTE>
						<h5> Vorname: {{ currentBooking.customer.name }} </h5>
						<h5> Nachname: {{ currentBooking.customer.familyName }} </h5>
						<h5> ID:  {{ currentBooking.customer.customerID }} </h5>
					</BLOCKQUOTE>
					
					<h4>Start am {{ currentBooking.trip.start.date }} um {{ currentBooking.trip.start.time }}</h4>
					<BLOCKQUOTE>
						<h5> Straße Nr.: {{ currentBooking.trip.start.address.street }} {{ currentBooking.trip.start.address.number }} </h5>
						<h5> Stadt PLZ: {{ currentBooking.trip.start.address.city }} {{ currentBooking.trip.start.address.zip }} </h5>
					</BLOCKQUOTE>
					
					<h4>Ende am {{ currentBooking.trip.end.date }} um {{ currentBooking.trip.end.time }}</h4>
					<BLOCKQUOTE>
						<h5> Straße Nr.: {{ currentBooking.trip.end.address.street }} {{ currentBooking.trip.end.address.number }} </h5>
						<h5> Stadt PLZ: {{ currentBooking.trip.end.address.city }} {{ currentBooking.trip.end.address.zip }} </h5>
					</BLOCKQUOTE>
					
					<h4>Rechnung</h4>
					<BLOCKQUOTE>
						<h5> ID: {{ currentBooking.invoice.invoiceID }} </h5>
						<h5> Preis: {{ currentBooking.invoice.totalAmount }} </h5>
						<h5> Status: {{ currentBooking.invoice.paidText }} </h5>
					</BLOCKQUOTE>
					
						<!--
						<br/>
						<br/>
					
                        <h4>
                            Booking-ID: {{ currentBooking.bookingID }}  Status: {{ currentBooking.status }}<br/>

                            Vorname: {{ currentBooking.customer.name }} Nachname: {{ currentBooking.customer.familyName }}<br/>

                            NutzerID: {{ currentBooking.customer.customerID }}<br/>
                            <br/>
                            Start: {{ currentBooking.trip.start.time }} {{ currentBooking.trip.start.date }}<br>
                            Strasse: {{ currentBooking.trip.start.address.street }} Nr. {{ currentBooking.trip.start.address.number }}<br>
                            Plz: {{ currentBooking.trip.start.address.zip }} Stadt: {{ currentBooking.trip.start.address.city }}<br>
                            <br/>
                            Ende: {{ currentBooking.trip.end.time }} {{ currentBooking.trip.end.date }}<br>
                            Strasse: {{ currentBooking.trip.end.address.street }} Nr. {{ currentBooking.trip.end.address.number }}<br>
                            Plz: {{ currentBooking.trip.end.address.zip }} Stadt: {{ currentBooking.trip.end.address.city }}<br>
                            <br/>
                            Rechnung: ID: {{ currentBooking.invoice.invoiceID }} Status: {{ currentBooking.invoice.paid }}<br/><!--Bezahlt oder nicht bezahlt
                            Preis: {{ currentBooking.invoice.totalAmount }}<br/>
                        </h4>
						-->
                    </md-content>
                </div>
            </div>

            <div ng-switch-when="add">
                <md-toolbar class="md-hue-2">
                    <div class="md-toolbar-tools">
                        <h2 class="md-flex">Buchung Hinzuf&uuml;gen</h2>
                    </div>
                </md-toolbar>
                <md-content layout-padding>
                    <md-input-container>
                        <input type="number" ng-model="new_booking.customerID" placeholder="Customer-ID" ng-required/>
                    </md-input-container>
                    <!--
<md-input-container >
<input type="text" ng-model="new_booking.lat" placeholder="Latitude">    
</md-input-container>
<md-input-container flex-gt-sm>
<input type="text" ng-model="new_booking.lon" placeholder="Longitude"/>
</md-input-container>
-->
                </md-content>
                <md-content layout-padding>
                    <md-input-container flex-gt-sm>
                        <input type="date" ng-model="new_booking.date" placeholder="Datum"/>
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        <input type="time" ng-model="new_booking.date" placeholder="Zeit"/>
                    </md-input-container>
                </md-content>
                <md-content layout-padding>
                    <md-input-container flex-gt-sm ng-switch="new_booking.address_state">
                        <p ng-switch-when="true">
                            <input type="text" ng-model="new_booking.address.street" placeholder="Strasse" disabled/>
                        </p>
                        <p ng-switch-when="false">
                            <input type="text" placeholder="Strasse" value="Keine Adresse gefunden" disabled/>
                        </p>
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        <input type="text" ng-model="new_booking.address.number" placeholder="Nr" disabled/>
                    </md-input-container>
                </md-content>

                <div id="map_booking" ></div>

                <md-content flex layout-padding>
                    <md-button class="md-raised md-primary button-to-right" ng-click="Booking_Safe()"> Speichern </md-button>
                    <md-button class="md-primary md-hue-1 button-to-right" ng-click="Booking_Cancel()"> Verwerfen </md-button>
                </md-content>
            </div>
        </div>
    </div>
</div>