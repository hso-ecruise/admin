<div class="stations-container" >
    <div class="" layout="row" layout-wrap>

        <div id="map_vehicles" style="height: 700px; width:50%" class="content"></div>

        <div style="padding: 15px;"></div>

        <div class="content" style="width:15%;">
            <md-toolbar class="md-hue-2">
                <div class="md-toolbar-tools">
                    <h2 class="md-flex">Fahrzeuge</h2>
                </div>
            </md-toolbar>
            <md-input-container style="width:100%">
                <input ng-model="searchQuery" my-enter="Enter_Search()" placeholder="Suchen nach ID" />
            </md-input-container>	
            <table>
                <thead>
                    <tr>
                        <td>
                            <h4> ID &nbsp;</h4>
                        </td>

                        <td>
                            <h4> Strasse </h4>
                        </td>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="(key, vehicle) in vehicles track by $index" ng-click="Load_Details(key)">
                        <td>
                            {{ key }}
                        </td>
                        <td>
                            {{ vehicle.address.street }}
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr ng-click="Show_AddVehicle()">
                        <td colspan="2">
                            <div class="md-list-item-text" layout="column">
                                <h4>Neues Fahrzeug hinzufügen</h4>
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
        <div style="padding: 15px;"></div>

        <div ng-switch="view" class="content" style="width:30%;">

            <div ng-switch-when="info" ng-switch="vehicle_selected">


                <md-toolbar class="md-hue-2">
                    <div class="md-toolbar-tools">
                        <h2 class="md-flex">Fahrzeug-Informationen</h2>
                    </div>
                </md-toolbar>

                <div ng-switch-when="true" style=" padding:15px;">

                    <!--NICHT VERÄNDERBAR-->

                    <md-input-container> 
                        <input type="text" value="{{ currentVehicle.vehicleID }}" placeholder="ID" ng-disabled="true"/>
                    </md-input-container>
                    <md-input-container >
                        <input type="text" ng-model="currentVehicle.licensePlate" placeholder="Nummernschild" ng-disabled="true"/>
                    </md-input-container>
                    <md-input-container >
                        <input type="text" placeholder="Hersteller" ng-model="currentVehicle.manufacturer" ng-disabled="true"/>
                    </md-input-container>
                    <md-input-container >
                        <input type="text" placeholder="Modell" ng-model="currentVehicle.model" ng-disabled="true"/>
                    </md-input-container>
                    <md-input-container>

                        <input type="number"  placeholder="Baujahr" ng-model="currentVehicle.constructionYear" ng-disabled="true"/>
                    </md-input-container>
                    <md-input-container>
                        <input type="number" placeholder="Kilowatt" ng-model="currentVehicle.kilowatts" ng-disabled="true"/>
                    </md-input-container>


                    <!--VERÄNDERBAR AUßER-->
                    
                    <div layout-align="start center" layout="row">
                        <div layout="column" flex="33" flex-sm="100" flex-xs="100" layout-align="center center">
                            <p>Reservierungszustand</p>
                            <md-menu>
                                <md-button ng-disabled="editDisabled" ng-mouseenter="$mdMenu.open()">{{currentVehicle.bookingStateObj.text}}</md-button>
                                <md-menu-content width="2" ng-mouseleave="$mdMenu.close()">
                                    <md-menu-item ng-repeat="item in bookingStates">
                                        <md-button ng-click="currentVehicle.bookingStateObj = item">
                                            {{item.text}}
                                        </md-button>
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                        </div>
                        <div layout="column" flex="33" flex-sm="100" flex-xs="100" layout-align="center center">
                            <p> Ladezustand </p>
                            <md-menu>
                                <md-button ng-disabled="editDisabled" ng-mouseenter="$mdMenu.open()">{{currentVehicle.loadingStateObj.text}}</md-button>
                                <md-menu-content width="2" ng-mouseleave="$mdMenu.close()">
                                    <md-menu-item ng-repeat="item in loadingStates">
                                        <md-button ng-click="currentVehicle.loadingStateObj = item">
                                            {{item.text}}
                                        </md-button>
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                        </div>
                    </div>    
                    



                    <md-input-container>
                        <input type="number" placeholder="Batteriestand" ng-model="currentVehicle.chargeLevel" ng-disabled="editDisabled"/>
                    </md-input-container>
                    <md-input-container>
                        <input type="text" placeholder="Strasse" ng-model="currentVehicle.address.street" ng-disabled="true"/>
                    </md-input-container>
                    <md-input-container>
                        <input type="text" placeholder="" value="{{ currentVehicle.lastDate }}" ng-disabled="true"/>
                    </md-input-container>

                    <md-input-container>
                        <input type="text" placeholder="LastLat" value="{{ currentVehicle.lastLat }}" ng-disabled="true"/>
                    </md-input-container>
                    <md-input-container>
                        <input type="text" placeholder="LastLon" value="{{ currentVehicle.lastLon }}" ng-disabled="true"/>
                    </md-input-container>
                    <!--HIER KOMMT WIEDER NE KARTE HIN-->
                    <md-input-container>
                        <input type="number" placeholder="Kilometerstand" ng-model="currentVehicle.mileage" ng-disabled="editDisabled"/>
                    </md-input-container>

                    <div ng-switch="editDisabled">
                        <div ng-switch-when="false">
                            <md-button class="md-raised md-primary button-to-right" ng-click="Safe_Changes()"> Speichern </md-button>
                            <md-button class="md-primary md-hue-1 button-to-right" ng-click="Dismiss_Changes()"> Verwerfen </md-button>
                        </div>
                        <div ng-switch-when="true">
                            <md-button class="md-raised md-primary button-to-right" ng-click="EnableEditMode()"> Bearbeiten </md-button>
                        </div>
                    </div>
                </div>
                <div ng-switch-when="false">
                    <h4> Bitte wählen Sie ein Fahrzeug in der linken Liste aus.</h4>
                </div>
            </div>

            <div ng-switch-when="add">
                <md-toolbar class="md-hue-2">
                    <div class="md-toolbar-tools">
                        <h2 class="md-flex">Neues Fahrzeug hinzuf&uuml;gen</h2>
                    </div>
                </md-toolbar>
                <md-content layout-padding>
                    <md-input-container flex-gt-sm>
                        <input type="text" placeholder="Nummernschild" pattern="[A-Z]{1,3} [A-Z]{1,2} [0-9]{1,4}" ng-model="new_vehicle.licensePlate" ng-required />
                    </md-input-container>

                    <md-input-container flex-gt-sm>
                        <input type="number" placeholder="Kilometer-Stand" min="0" ng-model="new_vehicle.mileage" ng-required />
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        <input type="number" placeholder="Kilowatt" min="0" max="999" ng-model="new_vehicle.kilowatts" ng-required />
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        <input type="number" placeholder="Batteriestand" min="0" max="100" ng-model="new_vehicle.chargeLevel" ng-required />
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        <input type="text" placeholder="Hersteller" ng-model="new_vehicle.manufacturer" ng-required />
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        <input type="text" placeholder="Modell" ng-model="new_vehicle.model" ng-required />
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        <input type="number" placeholder="Baujahr" min="1980" max="2100" ng-model="new_vehicle.yearOfConstruction" ng-required />
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        <input type="text" placeholder="Strasse" ng-model="new_vehicle.address.street" disabled />
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        <input type="text" placeholder="Nummer" ng-model="new_vehicle.address.number" disabled />
                    </md-input-container>
                    <md-input-container flex-gt-sm>
                        Reservierungszustand:
                        <md-menu>
                            <md-button ng-mouseenter="$mdMenu.open()">{{new_vehicle.bookingStateObj.text}}</md-button>
                            <md-menu-content width="4" ng-mouseleave="$mdMenu.close()">
                                <md-menu-item ng-repeat="item in bookingStates">
                                    <md-button ng-click="new_vehicle.bookingStateObj = item">
                                        {{item.text}}
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                    </md-input-container>
                    <br/>
                    <md-input-container flex-gt-sm>
                        Ladezustand:
                        <md-menu>
                            <md-button ng-mouseenter="$mdMenu.open()">{{new_vehicle.loadingStateObj.text}}</md-button>
                            <md-menu-content width="4" ng-mouseleave="$mdMenu.close()">
                                <md-menu-item ng-repeat="item in loadingStates">
                                    <md-button ng-click="new_vehicle.loadingStateObj = item">
                                        {{item.text}}
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                    </md-input-container>

                    <br/>

                    <input type="text" id='search_input' value="" placeholder="Suchen"/>

                    <div id="map_vehicle_new" style="height: 250px;"></div>
                    <br/>
                    <md-button class="md-raised md-primary button-to-right" ng-click="Safe_New()"> Speichern </md-button>
                    <md-button class="md-primary md-hue-1 button-to-right" ng-click="Dismiss_New()"> Verwerfen </md-button>
                </md-content>
            </div>
        </div>
    </div>
</div>